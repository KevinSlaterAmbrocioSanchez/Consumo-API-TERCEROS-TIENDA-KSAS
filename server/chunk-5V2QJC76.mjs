import './polyfills.server.mjs';
import{a as F,d as L,e as N,g as V,i as W,j as B,n as j}from"./chunk-P23EWA7G.mjs";import{a as D,c as I}from"./chunk-LKYRI7SI.mjs";import{j as w,m as k}from"./chunk-QLOATDPL.mjs";import{Hb as i,Ib as u,Jb as S,Kb as _,Lb as h,Mb as C,Oa as x,Ob as T,Ra as r,Sa as y,aa as v,fb as E,ja as g,jb as P,ka as f,kb as m,pb as t,qb as e,rb as s,sb as O,vb as c,xb as b}from"./chunk-7EXGA2PB.mjs";import{a as M}from"./chunk-DCFYTP2A.mjs";function A(p,o){if(p&1){let l=O();t(0,"tr")(1,"td",39),i(2),e(),t(3,"td")(4,"span",40),i(5),e()(),t(6,"td",9),s(7,"img",41),e(),t(8,"td",9)(9,"button",42),c("click",function(){let d=g(l).$implicit,a=b();return f(a.openModal(d))}),i(10," Detalles "),e()(),t(11,"td",9)(12,"button",43),c("click",function(){let d=g(l).$implicit,a=b();return f(a.openEditModal(d))}),i(13," Editar "),e()(),t(14,"td",9)(15,"button",44),c("click",function(){let d=g(l).$implicit,a=b();return f(a.openDeleteModal(d))}),i(16," Eliminar "),e()()()}if(p&2){let l=o.$implicit,n=o.index,d=b();r(2),u((d.currentPage-1)*d.itemsPerPage+n+1),r(3),u(l.title),r(2),m("src",l.thumbnail,x),r(2),P("data-bs-toggle","modal")("data-bs-target","#detailsModal"),r(3),P("data-bs-toggle","modal")("data-bs-target","#editModal"),r(3),P("data-bs-toggle","modal")("data-bs-target","#deleteModal")}}var H=class p{constructor(o){this.http=o}products=[];filteredProducts=[];currentPage=1;itemsPerPage=10;selectedProduct=null;editableProduct={};productToDelete=null;searchTerm="";ngOnInit(){this.fetchProducts()}fetchProducts(){this.http.get("https://dummyjson.com/products").subscribe(o=>{this.products=o.products,this.filteredProducts=this.products})}searchProducts(){let o=this.searchTerm.toLowerCase();this.filteredProducts=this.products.filter(l=>l.title.toLowerCase().includes(o)),this.currentPage=1}get paginatedProducts(){let o=(this.currentPage-1)*this.itemsPerPage;return this.filteredProducts.slice(o,o+this.itemsPerPage)}prevPage(){this.currentPage>1&&this.currentPage--}nextPage(){this.currentPage*this.itemsPerPage<this.filteredProducts.length&&this.currentPage++}openModal(o){this.selectedProduct=o}openEditModal(o){this.editableProduct=M({},o)}saveChanges(){let o=this.products.findIndex(l=>l.id===this.editableProduct.id);o!==-1&&(this.products[o]=M({},this.editableProduct),this.filteredProducts=[...this.products]),this.editableProduct={}}openDeleteModal(o){this.productToDelete=o}deleteProduct(){this.products=this.products.filter(o=>o.id!==this.productToDelete.id),this.filteredProducts=this.filteredProducts.filter(o=>o.id!==this.productToDelete.id),this.productToDelete=null}static \u0275fac=function(l){return new(l||p)(y(D))};static \u0275cmp=v({type:p,selectors:[["app-tablas"]],standalone:!0,features:[T],decls:89,vars:11,consts:[[1,"container","py-5"],[1,"custom-card","shadow-lg"],[1,"custom-card-header"],[1,"mb-0","text-uppercase"],[1,"my-3"],["type","text","placeholder","Buscar productos...",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"custom-card-body"],[1,"table-responsive"],[1,"table","table-borderless","custom-table","align-middle"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"custom-card-footer","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-light","shadow-sm",3,"click","disabled"],[1,"bi","bi-arrow-left"],[1,"fw-bold","text-muted"],[1,"bi","bi-arrow-right"],["id","detailsModal","tabindex","-1","aria-labelledby","detailsModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","custom-modal"],[1,"modal-header"],["id","detailsModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Cerrar",1,"btn-close"],[1,"modal-body","text-center"],["alt","Producto",1,"rounded","shadow-sm","mb-3",3,"src"],[1,"text-muted"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","editModal","tabindex","-1","aria-labelledby","editModalLabel","aria-hidden","true",1,"modal","fade"],["id","editModalLabel",1,"modal-title"],[1,"modal-body"],[1,"mb-3"],["for","editTitle",1,"form-label"],["type","text","id","editTitle","name","title",1,"form-control",3,"ngModelChange","ngModel"],["for","editDescription",1,"form-label"],["id","editDescription","name","description",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","deleteModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"text-center","fw-bold"],[1,"fw-semibold"],["alt","Imagen del Producto",1,"rounded","shadow",2,"width","90px","height","90px","object-fit","cover",3,"src"],[1,"btn","custom-btn",3,"click"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"]],template:function(l,n){l&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),i(4,"Gesti\xF3n de Productos"),e()(),t(5,"div",4)(6,"input",5),C("ngModelChange",function(a){return h(n.searchTerm,a)||(n.searchTerm=a),a}),c("input",function(){return n.searchProducts()}),e()(),t(7,"div",6)(8,"div",7)(9,"table",8)(10,"thead")(11,"tr")(12,"th",9),i(13,"#"),e(),t(14,"th"),i(15,"Producto"),e(),t(16,"th",9),i(17,"Imagen"),e(),t(18,"th",9),i(19,"Acciones"),e(),t(20,"th",9),i(21,"Editar"),e(),t(22,"th",9),i(23,"Eliminar"),e()()(),t(24,"tbody"),E(25,A,17,9,"tr",10),e()()()(),t(26,"div",11)(27,"button",12),c("click",function(){return n.prevPage()}),s(28,"i",13),i(29," Anterior "),e(),t(30,"span",14),i(31),e(),t(32,"button",12),c("click",function(){return n.nextPage()}),i(33," Siguiente "),s(34,"i",15),e()()()(),t(35,"div",16)(36,"div",17)(37,"div",18)(38,"div",19)(39,"h5",20),i(40),e(),s(41,"button",21),e(),t(42,"div",22),s(43,"img",23),t(44,"p",24),i(45),e()(),t(46,"div",25)(47,"button",26),i(48," Cerrar "),e()()()()(),t(49,"div",27)(50,"div",17)(51,"div",18)(52,"div",19)(53,"h5",28),i(54,"Editar Producto"),e(),s(55,"button",21),e(),t(56,"div",29)(57,"form")(58,"div",30)(59,"label",31),i(60,"Nombre"),e(),t(61,"input",32),C("ngModelChange",function(a){return h(n.editableProduct.title,a)||(n.editableProduct.title=a),a}),e()(),t(62,"div",30)(63,"label",33),i(64,"Descripci\xF3n"),e(),t(65,"textarea",34),C("ngModelChange",function(a){return h(n.editableProduct.description,a)||(n.editableProduct.description=a),a}),e()()()(),t(66,"div",25)(67,"button",26),i(68," Cerrar "),e(),t(69,"button",35),c("click",function(){return n.saveChanges()}),i(70," Guardar "),e()()()()(),t(71,"div",36)(72,"div",17)(73,"div",18)(74,"div",19)(75,"h5",37),i(76,"Confirmar Eliminaci\xF3n"),e(),s(77,"button",21),e(),t(78,"div",29)(79,"p"),i(80," \xBFEst\xE1s seguro de que deseas eliminar el producto "),t(81,"strong"),i(82),e(),i(83,"? "),e()(),t(84,"div",25)(85,"button",26),i(86," No "),e(),t(87,"button",38),c("click",function(){return n.deleteProduct()}),i(88," S\xED, eliminar "),e()()()()()),l&2&&(r(6),_("ngModel",n.searchTerm),r(19),m("ngForOf",n.paginatedProducts),r(2),m("disabled",n.currentPage===1),r(4),S("P\xE1gina ",n.currentPage,""),r(),m("disabled",n.currentPage*n.itemsPerPage>=n.filteredProducts.length),r(8),u(n.selectedProduct==null?null:n.selectedProduct.title),r(3),m("src",n.selectedProduct==null?null:n.selectedProduct.thumbnail,x),r(2),u(n.selectedProduct==null?null:n.selectedProduct.description),r(16),_("ngModel",n.editableProduct.title),r(4),_("ngModel",n.editableProduct.description),r(17),u(n.productToDelete==null?null:n.productToDelete.title))},dependencies:[k,w,I,j,B,F,L,N,W,V],styles:[".custom-card[_ngcontent-%COMP%]{border-radius:15px;overflow:hidden;background:linear-gradient(to bottom,#fff,#f8f9fa);box-shadow:0 4px 15px #0000001a}.custom-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6a11cb,#2575fc);padding:20px;text-align:center;color:#fff}.custom-card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;letter-spacing:1px}.custom-card-body[_ngcontent-%COMP%]{padding:20px}.custom-card-footer[_ngcontent-%COMP%]{padding:15px;background-color:#f8f9fa}.custom-table[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;background-color:#fff;border-radius:10px;overflow:hidden}.custom-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(90deg,#6a11cb,#2575fc);color:#fff}.custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:15px;text-transform:uppercase;letter-spacing:1px}.custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px;vertical-align:middle}.custom-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#6464ff1a;transition:all .3s ease-in-out}.custom-btn[_ngcontent-%COMP%]{background-color:#2575fc;color:#fff;border-radius:50px;padding:8px 20px;transition:all .3s ease-in-out}.custom-btn[_ngcontent-%COMP%]:hover{background-color:#6a11cb;color:#fff;transform:translateY(-3px);box-shadow:0 5px 15px #0003}.custom-modal[_ngcontent-%COMP%]{border-radius:15px}.custom-modal-header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#2575fc,#6a11cb);color:#fff;padding:15px;border-bottom:none}.custom-modal-body[_ngcontent-%COMP%]{padding:20px}.custom-modal-footer[_ngcontent-%COMP%]{padding:15px;border-top:none;text-align:center}.custom-modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:linear-gradient(90deg,#6a11cb,#2575fc);border:none;color:#fff;border-radius:50px;padding:10px 20px}.card[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden}.card-header[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;text-transform:uppercase;letter-spacing:1px}.table[_ngcontent-%COMP%]{margin:0;font-family:Roboto,sans-serif}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#007bff1a;transition:background-color .3s ease}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#0000000d}img.rounded[_ngcontent-%COMP%]{border:1px solid #dee2e6;transition:transform .3s ease}img.rounded[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.btn-outline-info[_ngcontent-%COMP%]{color:#4ca1af;border-color:#4ca1af}.btn-outline-info[_ngcontent-%COMP%]:hover{background-color:#4ca1af;color:#fff}.btn-light[_ngcontent-%COMP%]{transition:all .3s ease}.btn-light[_ngcontent-%COMP%]:hover{box-shadow:0 4px 10px #007bff4d}.modal-header[_ngcontent-%COMP%]{border-bottom:none}.modal-footer[_ngcontent-%COMP%]{border-top:none}.modal-content[_ngcontent-%COMP%]{border-radius:12px}.card-footer[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}"]})};export{H as a};
